require=function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var l=void 0;if(!u&&l)return l(o,!0);if(a)return a(o,!0);var s=Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(r){return i(e[o][1][r]||r)},c,c.exports,r,e,t,n)}return t[o].exports}for(var a=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(r,e,t){var n=r("validate.io-array"),i=r("validate.io-function");e.exports=function(r,e,t){if(!n(r))throw TypeError("dot()::invalid input argument. First argument must be an array. Value: `"+r+"`.");if(!n(e))throw TypeError("dot()::invalid input argument. Second argument must be an array. Value: `"+e+"`.");if(arguments.length>2&&!i(t))throw TypeError("dot()::invalid input argument. Accessor must be a function. Value: `"+t+"`.");var a,o=r.length,u=0;if(o!==e.length)throw Error("dot()::invalid input argument. Arrays must be of equal length.");if(!o)return null;if(t)for(a=0;a<o;a++)u+=t(r[a],a,0)*t(e[a],a,1);else for(a=0;a<o;a++)u+=r[a]*e[a];return u}},{"validate.io-array":3,"validate.io-function":4}],2:[function(r,e,t){var n=r("validate.io-array"),i=r("validate.io-function");e.exports=function(r,e){if(!n(r))throw TypeError("l2norm()::invalid input argument. Must provide an array.  Value: `"+r+"`.");if(arguments.length>1&&!i(e))throw TypeError("l2norm()::invalid input argument. Accessor must be a function. Value: `"+e+"`.");var t,a,o,u,l=r.length,s=0,c=1;if(!l)return null;if(e)for(u=0;u<l;u++)(o=(a=e(r[u],u))<0?-a:a)>0&&(o>s?(c=1+c*(t=s/a)*t,s=o):c+=(t=a/s)*t);else for(u=0;u<l;u++)(o=(a=r[u])<0?-a:a)>0&&(o>s?(c=1+c*(t=s/a)*t,s=o):c+=(t=a/s)*t);return s*Math.sqrt(c)}},{"validate.io-array":3,"validate.io-function":4}],3:[function(r,e,t){e.exports=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)}},{}],4:[function(r,e,t){e.exports=function(r){return"function"==typeof r}},{}],5:[function(r,e,t){var n=Object.create(null),i=function(r,e){var t,n,i=e.length,a=r.length,o=[];for(n=0;n<a;n+=1)for(t=0;t<i;t+=1)o.push(r[n].concat(e[t]));return o};n.array=Object.create(null),n.array.isArray=function(r){return null!=r&&"[object Array]"===Object.prototype.toString.call(r)},n.array.ascending=function(r,e){return r>e?1:r===e?0:-1},n.array.descending=function(r,e){return e>r?1:e===r?0:-1},n.array.ascendingOnKey=function(r,e){return r[0]>e[0]?1:r[0]===e[0]?0:-1},n.array.descendingOnKey=function(r,e){return e[0]>r[0]?1:e[0]===r[0]?0:-1},n.array.ascendingOnValue=function(r,e){return r[1]>e[1]?1:r[1]===e[1]?0:-1},n.array.descendingOnValue=function(r,e){return e[1]>r[1]?1:e[1]===r[1]?0:-1},n.array.ascendingOn=function(r,e){return e?function(t,n){return t[r][e]>n[r][e]?1:t[r][e]===n[r][e]?0:-1}:function(e,t){return e[r]>t[r]?1:e[r]===t[r]?0:-1}},n.array.descendingOn=function(r,e){return e?function(t,n){return n[r][e]>t[r][e]?1:n[r][e]===t[r][e]?0:-1}:function(e,t){return t[r]>e[r]?1:t[r]===e[r]?0:-1}},n.array.pluck=function(r,e,t){n=r.length;var n,i,a=e||0,o=t||n;for(o>n&&(o=n),i=Array(o),n=0;n<o;n+=1)i[n]=r[n][a];return i},n.array.product=function(r){return r.reduce(i,[[]])},n.array.shuffle=function(r){for(var e,t,n=r.length;n;)e=Math.floor(Math.random()*n),n-=1,t=r[n],r[n]=r[e],r[e]=t;return r};var a=Object.keys,o=Object.create;n.object=Object.create(null),n.object.isObject=function(r){return!!r&&"[object Object]"===Object.prototype.toString.call(r)},n.object.keys=function(r){return a(r)},n.object.size=function(r){return a(r).length},n.object.values=function(r){for(var e=n.object.keys(r),t=e.length,i=Array(t),a=0;a<t;a+=1)i[a]=r[e[a]];return i},n.object.valueFreq=function(r){for(var e,t=n.object.keys(r),i=t.length,a=o(null),u=0;u<i;u+=1)a[e=r[t[u]]]=1+(a[e]||0);return a},n.object.table=function(r,e){for(var t,i,a=n.object.keys(r),o=a.length,u=Array(o),l=0;l<o;l+=1)i=r[t=a[l]],"function"==typeof e&&e(i),u[l]=[t,i];return u},n.validate=Object.create(null),n.validate.isObject=n.object.isObject,n.validate.isArray=n.array.isArray,n.validate.isFiniteInteger=function(r){return"number"==typeof r&&!isNaN(r)&&isFinite(r)&&r===Math.round(r)},n.validate.isFiniteNumber=function(r){return"number"==typeof r&&!isNaN(r)&&isFinite(r)},n.validate.cross=function(r){var e,t,i,a,o,u,l=!1,s=Object.create(null),c=Object.create(null),f=function(){l=!1,e=Object.create(null),t=Object.create(null),i=Object.create(null),a=Object.create(null);for(let r=0;r<u;r+=1){let n=o[r];s[n]=!0,e[n]=Object.create(null),t[n]=0,i[n]=0,a[n]=0;for(let r=0;r<u;r+=1){let t=o[r];e[n][t]=0}}};if(!n.validate.isArray(r))throw Error("cross validate: class labels must be an array.");if(r.length<2)throw Error("cross validate: at least 2 class labels are required.");return u=(o=r).length,f(),c.reset=f,c.evaluate=function(r,t){return"unknown"!==t&&!!s[r]&&!!s[t]&&(t===r?e[r][t]+=1:e[t][r]+=1,l=!0,!0)},c.metrics=function(){if(!l)return null;var r,n,s,c,f=Object.create(null),d=Object.create(null),b=Object.create(null),m=0,g=0,h=0;for(s=0;s<u;s+=1)for(c=0,n=o[s];c<u;c+=1)n===(r=o[c])&&(f[n]=e[n][r]),d[n]=e[n][r]+(d[n]||0),b[n]=e[r][n]+(b[n]||0);for(s=0;s<u;s+=1)t[n=o[s]]=+(f[n]/d[n]).toFixed(4),isNaN(t[n])&&(t[n]=0),i[n]=+(f[n]/b[n]).toFixed(4),isNaN(i[n])&&(i[n]=0),a[n]=+(2*t[n]*i[n]/(t[n]+i[n])).toFixed(4),isNaN(a[n])&&(a[n]=0);for(s=0;s<u;s+=1)m+=t[o[s]]/u,g+=i[o[s]]/u,h+=a[o[s]]/u;return{avgPrecision:+m.toFixed(4),avgRecall:+g.toFixed(4),avgFMeasure:+h.toFixed(4),details:{confusionMatrix:e,precision:t,recall:i,fmeasure:a}}},c},n.string=Object.create(null);var u=/[\u0300-\u036f]/g;n.string.normalize=function(r){return r.toLowerCase().normalize("NFD").replace(u,"")},e.exports=n},{}],bm25:[function(r,e,t){var n=r("wink-helpers");e.exports=function(){var r,e=[],t=Object.create(null),i=Object.create(null),a=Object.create(null),o=[],u=[],l=!1,s=!1,c=0,f=0,d=0,b=null,m=Object.create(null),g=0,h=function(n,i){for(var a=n,o=t[i]&&t[i].pTasks||e,u=t[i]&&t[i].pTaskCount||r,l=0;l<u;l+=1)a=o[l](a);return a},y=function(r,e,t,n,i){for(var a,u=h(e,i),l=0,s=u.length;l<s;l+=1)void 0===m[a=u[l]]&&(m[a]=g,g+=1),void 0===n[a=m[a]]?(n[a]=t,o[a]=o[a]||[],o[a].push(r)):n[a]+=t;return u.length*Math.abs(t)},v=function(r,e){if(null===b)throw Error("winkBM25S: Config must be defined before adding a document.");var t,n=b.fldWeights;if(s)throw Error("winkBM25S: post consolidation adding/learning is not possible!");if(l=!0,void 0!==a[e])throw Error("winkBM25S: Duplicate document encountered: "+JSON.stringify(e));for(var i in a[e]=Object.create(null),a[e].freq=Object.create(null),a[e].fieldValues=Object.create(null),a[e].length=0,n){if(void 0===r[i])throw Error("winkBM25S: Missing field in the document: "+JSON.stringify(i));t=y(e,r[i],n[i],a[e].freq,i),a[e].length+=t,f+=t}return b.ovFldNames.forEach(function(t){if(void 0===r[t])throw Error("winkBM25S: Missing field in the document: "+JSON.stringify(t));a[e].fieldValues[t]=r[t]}),c+=1},p=function(r,e,t,i){if(!s)throw Error("winkBM25S: search is not possible unless learnings are consolidated!");if("string"!=typeof r)throw Error("winkBM25S: search text should be a string, instead found: "+typeof r);var u,l,c,f,d,b,g,y="function"==typeof t?t:function(){return!0},v=h(r,"search").filter(function(r){return void 0!==m[r]}).map(function(r){return m[r]}),p=Object.create(null);for(b=0,g=v.length;b<g;b+=1)for(f=0,d=(l=o[c=v[b]]).length;f<d;f+=1)y(a[u=l[f]].fieldValues,i)&&(p[u]=a[u].freq[c]+(p[u]||0));return n.object.table(p).sort(n.array.descendingOnValue).slice(0,Math.max(e||10,1))},O=function(){return a=Object.create(null),o=[],u=[],l=!1,s=!1,c=0,f=0,d=0,b=null,m=Object.create(null),g=0,!0};return i.definePrepTasks=function(i,a){if(null===b)throw Error("winkBM25S: Config must be defined before defining prepTasks.");if(!n.array.isArray(i))throw Error("winkBM25S: Tasks should be an array, instead found: "+JSON.stringify(i));for(var o=0,u=i.length;o<u;o+=1)if("function"!=typeof i[o])throw Error("winkBM25S: Tasks should contain function, instead found: "+typeof i[o]);var l=b.fldWeights;if(null==a)e=i,r=i.length;else{if(!l[a]||"string"!=typeof a)throw Error("winkBM25S: Field name is missing or it is not a string: "+JSON.stringify(a)+"/"+typeof a);t[a]=t[a]||Object.create(null),t[a].pTasks=i,t[a].pTaskCount=i.length}return i.length},i.defineConfig=function(r){if(l)throw Error("winkBM25S: config must be defined before learning/addition starts!");if(!n.object.isObject(r))throw Error("winkBM25S: config must be a config object, instead found: "+JSON.stringify(r));if(!n.object.isObject(r.fldWeights))throw Error("winkBM25S: fldWeights must be an object, instead found: "+JSON.stringify(r.fldWeights));if(0===n.object.keys(r.fldWeights).length)throw Error("winkBM25S: Field config has no field defined.");for(var e in(b=Object.create(null)).fldWeights=Object.create(null),b.bm25Params=Object.create(null),b.bm25Params.k1=1.2,b.bm25Params.b=.75,b.bm25Params.k=1,r.fldWeights){if(!r.fldWeights[e]||isNaN(r.fldWeights[e]))throw Error("winkBM25S: Field weight should be number >0, instead found: "+JSON.stringify(r.fldWeights[e]));b.fldWeights[e]=+r.fldWeights[e]}if(n.object.isObject(r.bm25Params)||(r.bm25Params=Object.create(null)),b.bm25Params.b=null===r.bm25Params.b||void 0===r.bm25Params.b||isNaN(r.bm25Params.b)||0>+r.bm25Params.b||+r.bm25Params.b>1?.75:+r.bm25Params.b,b.bm25Params.k1=null===r.bm25Params.k1||void 0===r.bm25Params.k1||isNaN(r.bm25Params.k1)||0>+r.bm25Params.k1?1.2:+r.bm25Params.k1,b.bm25Params.k=null===r.bm25Params.k||void 0===r.bm25Params.k||isNaN(r.bm25Params.k)||0>+r.bm25Params.k?1:+r.bm25Params.k,b.ovFldNames=[],r.ovFldNames||(r.ovFldNames=[]),!n.array.isArray(r.ovFldNames))throw Error("winkBM25S: OV Field names should be an array, instead found: "+JSON.stringify(typeof r.ovFldNames));return r.ovFldNames.forEach(function(r){if("string"!=typeof r||0===r.length)throw Error("winkBM25S: OV Field name should be a non-empty string, instead found: "+JSON.stringify(r));b.ovFldNames.push(r)}),!0},i.addDoc=v,i.getDocs=function(){return a},i.getTokens=function(){return m},i.getConfig=function(){return b},i.getIDF=function(){return u},i.getTotalCorpusLength=function(){return f},i.getTotalDocs=function(){return c},i.consolidate=function(r){if(s)throw Error("winkBM25S: consolidation can be carried out only once!");if(c<3)throw Error("winkBM25S: document collection is too small for consolidation; add more docs!");var e,t,n,i,l,m=parseInt(r,10);m=isNaN(m)?4:m<4?4:m>9?9:m;for(var g=b.bm25Params.b,h=b.bm25Params.k1,y=b.bm25Params.k,v=0,p=o.length;v<p;v+=1)n=o[v].length,u[v]=Math.log((c-n+.5)/(n+.5)+y);for(t in d=f/c,a)for(l in i=1-g+a[t].length/d*g,a[t].freq)e=a[t].freq[l],a[t].freq[l]=Math.sign(e)*(Math.abs(e*(h+1)/(h*i+e))*u[l]).toFixed(m);return s=!0,!0},i.search=p,i.exportJSON=function(){var r=Object.create(null);return r.totalCorpusLength=f,r.totalDocs=c,r.consolidated=s,JSON.stringify([b,r,a,o,g,m,{},[],[]])},i.importJSON=function(r){if(!r)throw Error("winkBM25S: undefined or null JSON encountered, import failed!");var e=[n.object.isObject,n.object.isObject,n.object.isObject,n.array.isArray,Number.isInteger,n.object.isObject,n.object.isObject,n.array.isArray,n.array.isArray],t=JSON.parse(r);if(!n.array.isArray(t)||t.length!==e.length)throw Error("winkBM25S: invalid JSON encountered, can not import.");for(var i=0;i<e.length;i+=1)if(!e[i](t[i]))throw Error("winkBM25S: invalid JSON encountered, can not import.");return O(),l=!0,b=t[0],f=t[1].totalCorpusLength,c=t[1].totalDocs,s=t[1].consolidated,a=t[2],o=t[3],g=t[4],m=t[5],!0},i.reset=O,i.learn=v,i.predict=p,i}},{"wink-helpers":5}],similarity:[function(r,e,t){var n=r("compute-dot"),i=r("compute-l2norm"),a=r("validate.io-array"),o=r("validate.io-function");function u(r,e){return function(t,n){return r(t,n,e)}}e.exports=function(r,e,t){var l,s,c;if(!a(r))throw TypeError("cosine-similarity()::invalid input argument. First argument must be an array. Value: `"+r+"`.");if(!a(e))throw TypeError("cosine-similarity()::invalid input argument. Second argument must be an array. Value: `"+e+"`.");if(arguments.length>2&&!o(t))throw TypeError("cosine-similarity()::invalid input argument. Accessor must be a function. Value: `"+t+"`.");if(r.length!==e.length)throw Error("cosine-similarity()::invalid input argument. Input arrays must have the same length.");return r.length?(t?(l=n(r,e,t),s=i(r,u(t,0)),c=i(e,u(t,1))):(l=n(r,e),s=i(r),c=i(e)),l/(s*c)):null}},{"compute-dot":1,"compute-l2norm":2,"validate.io-array":3,"validate.io-function":4}]},{},[]);
//# sourceMappingURL=ss-bundle.js.map
